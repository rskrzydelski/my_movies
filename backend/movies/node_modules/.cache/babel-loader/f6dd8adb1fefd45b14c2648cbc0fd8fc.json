{"ast":null,"code":"var _jsxFileName = \"/Users/rafalskrzydelski/development/react/movies/src/components/RegUser.js\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport * as api from '../api_helper/api';\nimport { registerUrl } from '../api_helper/routes';\nconst LoginHeader = styled.h4`\n  text-align: center;\n  margin-right: 20px;\n`;\nconst Container = styled.div`\n  background: #2b2e39;\n  margin: 0 auto;\n  width: 80%;\n  max-width: 600px;\n  padding: 14px;\n  border-radius: 14px;\n  margin-top: 14px;\n`;\nconst TextInput = styled.input`\n  padding: 5px;\n  font-size: .7em;\n  background: #232632;\n  color: #d3d4d6;\n  width: 100%;\n  margin-right: 7px;\n  margin-bottom: 10px;\n  border: 0px;\n  -webkit-apperance: none;\n`;\nconst Button = styled.button`\n  background: #232632;\n  color: #00a7fa;\n  width: 30%;\n  height: 32px;\n  font-size: 0.9em;\n  border: 2px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  margin-right: 10px;\n  margin-left: 10px;\n  display: block;\n  max-width: 300px;\n  margin: auto;\n  justify-content: center;\n  align-items: center;\n  &:hover { background: #555; } \n`;\n\nclass RegUser extends Component {\n  constructor(props) {\n    super(props);\n    this.handleReg = this.handleReg.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.state = {\n      register_data: {\n        username: '',\n        email: '',\n        password1: '',\n        password2: ''\n      }\n    };\n  }\n\n  async handleReg(event) {\n    // const { authChangeCallback } = this.props\n    const regUser = await api.post(registerUrl(), this.state.register_data);\n\n    if (regUser.key) {\n      alert(regUser.key);\n    }\n\n    console.log(regUser); // alert(regUser)\n    //   localStorage.setItem('token', user.key)\n    //   localStorage.setItem('username', this.state.credentials.username)\n    //   if (authChangeCallback !== undefined) {\n    // authChangeCallback()\n    // }\n    // } else {\n    //   localStorage.clear()\n    // }\n\n    this.setState({\n      register_data: {\n        username: '',\n        email: '',\n        password1: '',\n        password2: ''\n      }\n    });\n  }\n\n  handleChange(event) {\n    const r = this.state.register_data;\n    r[event.target.name] = event.target.value;\n    this.setState({\n      register_data: r\n    });\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(LoginHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Registration\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Username:\", React.createElement(TextInput, {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.register_data.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Email:\", React.createElement(TextInput, {\n      type: \"email\",\n      name: \"email\",\n      value: this.state.register_data.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Password1:\", React.createElement(TextInput, {\n      type: \"password\",\n      name: \"password1\",\n      value: this.state.register_data.password1,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Password2:\", React.createElement(TextInput, {\n      type: \"password\",\n      name: \"password2\",\n      value: this.state.register_data.password2,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.handleReg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Register\"));\n  }\n\n}\n\nexport default RegUser;","map":{"version":3,"sources":["/Users/rafalskrzydelski/development/react/movies/src/components/RegUser.js"],"names":["React","Component","styled","api","registerUrl","LoginHeader","h4","Container","div","TextInput","input","Button","button","RegUser","constructor","props","handleReg","bind","handleChange","state","register_data","username","email","password1","password2","event","regUser","post","key","alert","console","log","setState","r","target","name","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport styled from 'styled-components'\n\nimport * as api from '../api_helper/api'\nimport { registerUrl } from '../api_helper/routes'\n\nconst LoginHeader = styled.h4`\n  text-align: center;\n  margin-right: 20px;\n`\nconst Container = styled.div`\n  background: #2b2e39;\n  margin: 0 auto;\n  width: 80%;\n  max-width: 600px;\n  padding: 14px;\n  border-radius: 14px;\n  margin-top: 14px;\n`\n\nconst TextInput = styled.input`\n  padding: 5px;\n  font-size: .7em;\n  background: #232632;\n  color: #d3d4d6;\n  width: 100%;\n  margin-right: 7px;\n  margin-bottom: 10px;\n  border: 0px;\n  -webkit-apperance: none;\n`\n\nconst Button = styled.button`\n  background: #232632;\n  color: #00a7fa;\n  width: 30%;\n  height: 32px;\n  font-size: 0.9em;\n  border: 2px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  margin-right: 10px;\n  margin-left: 10px;\n  display: block;\n  max-width: 300px;\n  margin: auto;\n  justify-content: center;\n  align-items: center;\n  &:hover { background: #555; } \n`\n\nclass RegUser extends Component {\n  constructor (props) {\n    super(props)\n    this.handleReg = this.handleReg.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.state = {\n      register_data: { username: '', email: '', password1: '', password2: '' }\n    }\n  }\n\n  async handleReg (event) {\n    // const { authChangeCallback } = this.props\n    const regUser = await api.post(registerUrl(), this.state.register_data)\n    if (regUser.key) {\n      alert(regUser.key)\n    }\n    console.log(regUser)\n    // alert(regUser)\n    //   localStorage.setItem('token', user.key)\n    //   localStorage.setItem('username', this.state.credentials.username)\n    //   if (authChangeCallback !== undefined) {\n        // authChangeCallback()\n    // }\n    // } else {\n    //   localStorage.clear()\n    // }\n    this.setState({\n      register_data: { username: '', email: '', password1: '', password2: '' }\n    })\n  }\n\n  handleChange (event) {\n    const r = this.state.register_data\n    r[event.target.name] = event.target.value\n    this.setState({ register_data: r })\n  }\n\n  render () {\n    return (\n      <Container>\n        <LoginHeader>Registration</LoginHeader>\n        <label>\n          Username:\n          <TextInput\n            type='text'\n            name='username'\n            value={this.state.register_data.username}\n            onChange={this.handleChange}\n          />\n        </label>\n        <br />\n        <label>\n          Email:\n          <TextInput\n            type='email'\n            name='email'\n            value={this.state.register_data.email}\n            onChange={this.handleChange}\n          />\n        </label>\n        <br />\n        <label>\n          Password1:\n          <TextInput\n            type='password'\n            name='password1'\n            value={this.state.register_data.password1}\n            onChange={this.handleChange}\n          />\n        </label>\n        <label>\n          Password2:\n          <TextInput\n            type='password'\n            name='password2'\n            value={this.state.register_data.password2}\n            onChange={this.handleChange}\n          />\n        </label>\n        <Button onClick={this.handleReg}>Register</Button>\n      </Container>\n    )\n  }\n}\n\nexport default RegUser\n"]},"metadata":{},"sourceType":"module"}